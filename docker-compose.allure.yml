#Single docker compose  for allure to listen to the reports generated by docker-compose.local.yml
# allure is the docker volume which has results for docker-compose.local.yml execution
# to do run without root user
#To view the report: http://localhost:5050/allure-docker-service/projects/default/reports/latest/index.html

#execution command

#docker-compose -f docker-compose.allure.yml up --build  --remove-orphans

version: '3'
  services:
    allure:
      image: "frankescobar/allure-docker-service"
      user: root:root
      environment:
        CHECK_RESULTS_EVERY_SECONDS: 10
        KEEP_HISTORY: 5
      ports:
        - "5050:5050"
      #way to map local path as volume
      #      volumes:
      #        - ${PWD}/allure-results:/app/allure-results
      #        - ${PWD}/allure-reports:/app/default-reports
      #way to map dockee volume path as volume
      volumes:
        - allure:/app/allure-results
        - allure:/app/default-reports
  volumes:
    allure: